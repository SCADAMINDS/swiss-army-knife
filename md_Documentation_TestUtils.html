<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Swiss Army Knife: TestUtils</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Swiss Army Knife
   </div>
   <div id="projectbrief">General utility tools for Scada Minds</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">TestUtils </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md17"></a>
TemporaryFileFixture</h1>
<p>A fixture you can use in your tests to create a temporary 0-byte file in the temp location on your system. When disposed, the file will automatically be deleted. This is for when you need to test something that relies on the file-system that you're unable to change. If the code is under your control, consider using <a href="https://github.com/System-IO-Abstractions/System.IO.Abstractions">System.IO.Abstractions</a> for an in-memory filesystem that is much easier to test up against. <br  />
</p>
<div class="fragment"><div class="line">// Create an dispose of temporary file</div>
<div class="line">using var temporaryFile = TemporaryFileFixture.Create();</div>
<div class="line"> </div>
<div class="line">// Write to file, read from file, do whatever</div>
<div class="line">FileStream fileStream = temporaryFile.FileInfo.OpenWrite();</div>
</div><!-- fragment --><p><a class="el" href="classSCM_1_1SwissArmyKnife_1_1TestUtils_1_1TemporaryFileFixture.html">View More Documentation</a></p>
<h1><a class="anchor" id="autotoc_md18"></a>
TemporaryDirectoryFixture</h1>
<p>A fixture you can use in your tests to create a temporary directory at <code>{temporary_directory}/{guid}</code> in your system. When disposed, the directory and all of the content will automatically be deleted. This is for when you need to test something that relies on the file-system that you're unable to change. If the code is under your control, consider using <a href="https://github.com/System-IO-Abstractions/System.IO.Abstractions">System.IO.Abstractions</a> for an in-memory filesystem that is much easier to test up against.</p>
<div class="fragment"><div class="line">// Create a temporary directory, and delete it recursively at the end of the block.</div>
<div class="line">using var temporaryDirectory = TemporaryDirectoryFixture.Create();</div>
<div class="line"> </div>
<div class="line">// Get the path and do something with it.</div>
<div class="line">var directoryPath = temporaryDirectory.DirectoryInfo.FullName</div>
</div><!-- fragment --><p><a class="el" href="classSCM_1_1SwissArmyKnife_1_1TestUtils_1_1TemporaryDirectoryFixture.html">View More Documentation</a></p>
<h1><a class="anchor" id="autotoc_md19"></a>
SameValueDictionary</h1>
<p>Mocking dictionaries can be convoluted, so this is a read-only dictionary that will pretend any key exists in it, and return the default value that you provided in the constructor. Add operations are no-ops. They will not fail, but they will not modify the dictionary. Iterating over the dictionary will throw an error. </p><div class="fragment"><div class="line">// Creates a dictionary that always returns &quot;defaultValue&quot;</div>
<div class="line">var dictionary = new SameValueDictionary&lt;string, string&gt;(&quot;defaultValue&quot;);</div>
<div class="line">// Add operations are no-op</div>
<div class="line">dictionary[&quot;someKey&quot;] = &quot;foo&quot;;</div>
<div class="line">// Returns &quot;defaultValue&quot;</div>
<div class="line">var value = dictionary[&quot;someKey&quot;];</div>
</div><!-- fragment --><p><a class="el" href="classSCM_1_1SwissArmyKnife_1_1TestUtils_1_1SameValueDictionary.html">View More Documentation</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
